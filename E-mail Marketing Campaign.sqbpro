<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="email_marketing.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure pragmas browser query" current="3"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="1894"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Campaign_Performance" custom_title="0" dock_id="1" table="4,20:mainCampaign_Performance"/><dock_state state="000000ff00000000fd00000001000000020000043c000002b6fc0100000001fb000000160064006f0063006b00420072006f007700730065003101000000000000043c0000011e00ffffff0000025e0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="Campaign_Performance" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="2" mode="0"/></sort><column_widths><column index="1" value="81"/><column index="2" value="65"/><column index="3" value="74"/><column index="4" value="72"/><column index="5" value="114"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Campaigns" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="79"/><column index="3" value="85"/><column index="4" value="124"/><column index="5" value="67"/><column index="6" value="109"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Email_Engagement" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="95"/><column index="2" value="52"/><column index="3" value="81"/><column index="4" value="49"/><column index="5" value="47"/><column index="6" value="75"/><column index="7" value="156"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Unsubscribes" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="92"/><column index="2" value="52"/><column index="3" value="81"/><column index="4" value="107"/><column index="5" value="148"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Users" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="50"/><column index="2" value="85"/><column index="3" value="75"/><column index="4" value="109"/><column index="5" value="58"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">  --	What is the Open_rate per campaigns?
SELECT

ROUND(SUM(total_opens)*100.0/ SUM(total_sent),2) AS Open_rate

FROM 

Campaign_Performance;

--What is the Overall_unsubscribe_rate?

SELECT

ROUND(SUM(total_unsubscribes)*100.0/ SUM(total_sent),2) AS Unsubscribe_rate

FROM 

Campaign_Performance;
  
--Which Campaign has the heighest and Lowest Unsubscribe_rate?

SELECT 
 Campaigns.campaign_name,
 ROUND(SUM(total_unsubscribes)*100.0/ SUM(total_sent),2) AS Unsubscribe_rate
 
 FROM
 Campaign_Performance
 LEFT JOIN 
 Campaigns ON Campaign_Performance.campaign_id=Campaigns.campaign_id
 GROUP BY 
 campaign_name
 ORDER BY
 unsubscribe_rate DESC;
 
 --Do certain campaign categories (promotion, newsletter, re-engagement, announcement) have higher unsubscribe rates?
 
 SELECT
 
 Campaigns.category,
 ROUND(SUM(total_unsubscribes)*100.0/ SUM(total_sent),2) AS Unsubscribe_rate
 
 FROM
 Campaign_Performance
 LEFT JOIN 
 Campaigns ON Campaign_Performance.campaign_id=Campaigns.campaign_id
 GROUP BY 
 category
 ORDER BY
 unsubscribe_rate DESC;
 
 --What is the relation between Open_rate and Unsubscribe_rate?
 
 SELECT 
 
 Campaigns.campaign_name,
 ROUND(SUM(total_unsubscribes)*100.0/ SUM(total_sent),2) AS Unsubscribe_rate,
 ROUND(SUM(total_opens)*100.0/ SUM(total_sent),2) AS Open_rate
 
 FROM
 Campaign_Performance
 LEFT JOIN 
 Campaigns ON Campaign_Performance.campaign_id=Campaigns.campaign_id
 GROUP BY 
 campaign_name
 ORDER BY
 Unsubscribe_rate DESC;
 
 --Which region(s) or device type(s) have the highest unsubscribe rate?
 
 SELECT
 region,
 device_type,
  SUM(unsubscribe) AS Unsubscribe_rate
  
 FROM
 Users
 LEFT JOIN
 Email_Engagement ON users.user_id=Email_Engagement.user_id
 GROUP BY
 region
 ORDER BY
 Unsubscribe_rate DESC;
 
 --How long after signup do users typically unsubscribe?
 
 SELECT
 
 ROUND(AVG(JULIANDAY(Unsubscribes.unsubscribe_date)- JULIANDAY(users.signup_date)),1) AS Avg_days_to_unsubscribe
 
 FROM 
 Users
 LEFT JOIN
 Unsubscribes ON users.user_id=Unsubscribes.user_id;
 
 --Do send time(hour of the day) affect engagement or unsubcribe rate?
 
 SELECT
 
 send_hour,
 ROUND(SUM(total_opens)*100.0/ SUM(total_sent),2) AS Open_rate,
 ROUND(SUM(total_unsubscribes)*100.0/ SUM(total_sent),2) AS Unsubscribe_rate
 
 FROM
 Campaign_Performance
 LEFT JOIN
 Campaigns ON Campaign_Performance.campaign_id=Campaigns.campaign_id
 GROUP BY
 send_hour;
 
 --What are the most common unsubscribe reasons, and do they vary by campaign category?
 
 SELECT 
 
 Campaigns.category,
 Unsubscribes.reason,
 COUNT(*) AS total_unsubscribes
 
 FROM 
 Unsubscribes
 LEFT JOIN
 Campaigns ON Unsubscribes.campaign_id=Campaigns.campaign_id
 GROUP BY 
 category,reason
 ORDER BY 
 total_unsubscribes DESC;

 -- Who is &quot;at-risk&quot; users?
 
 SELECT 
    user_id,
    COUNT(campaign_id) AS total_sent,
    SUM(opened) AS total_opened,
    ROUND(
      SUM(opened) * 100.0 / COUNT(campaign_id),
      2
    ) AS open_rate
FROM email_engagement
GROUP BY user_id;

 </sql><current_tab id="0"/></tab_sql></sqlb_project>
